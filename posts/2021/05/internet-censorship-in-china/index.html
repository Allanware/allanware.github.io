<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Internet Censorship in China | Wenxuan Zhao</title><meta name=keywords content="censorship,china,internet"><meta name=description content="I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China"><meta name=author content="Wenxuan Zhao"><link rel=canonical href=https://allanware.github.io/posts/2021/05/internet-censorship-in-china/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css integrity="sha256-7I2jZsovtkdTfMt6j2+ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://allanware.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://allanware.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://allanware.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://allanware.github.io/apple-touch-icon.png><link rel=mask-icon href=https://allanware.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://allanware.github.io/posts/2021/05/internet-censorship-in-china/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y7CDN6L98B"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y7CDN6L98B",{anonymize_ip:!1})}</script><meta property="og:title" content="Internet Censorship in China"><meta property="og:description" content="I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China"><meta property="og:type" content="article"><meta property="og:url" content="https://allanware.github.io/posts/2021/05/internet-censorship-in-china/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-04T23:33:00-07:00"><meta property="article:modified_time" content="2021-05-04T23:33:00-07:00"><meta property="og:site_name" content="Wenxuan Zhao"><meta name=twitter:card content="summary"><meta name=twitter:title content="Internet Censorship in China"><meta name=twitter:description content="I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://allanware.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Internet Censorship in China","item":"https://allanware.github.io/posts/2021/05/internet-censorship-in-china/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Internet Censorship in China","name":"Internet Censorship in China","description":"I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China","keywords":["censorship","china","internet"],"articleBody":"Abstract Internet, the network of networks, has long been regarded as the borderless utopian world where people across the world can communicate and share anything they want. This vision is reinforced by the continual growth of the internet powered by advances in both hardware and software. However, as the report shows, the future of the global network may be shaped by regional differences [1]. One notable difference is how different governments censor online information. In this report, I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China.\nInternet censorship 2020: [2]\nIntroduction Censorship is where an entity in a position of power - such as a government, organization, or individual - suppresses communication that it considers objectionable, harmful, sensitive, politically incorrect, or inconvenient [3]. If someone is censored, she could be suppressed in either accessing or publishing certain information or both. In the context of the internet, censorship is composed of three elements [4]: prescription, identification, and interference. In the section below that discusses internet censorship techniques, I will have more details on how those elements are implemented.\nThe Great Firewall of China, the internet version of the Great Wall that censors both domestic and international internet traffic, is extremely controversial. Ever since China was connected to the Internet, the Chinese government realized its potential and attempted to control the internet [5]. Over the years, we have seen events that scream censorship led by the government: Google’s eventual retreat after years of attempts to reach a mutual agreement with the government regarding censorship [6], the block of YouTube, Facebook, Twitter, Wikipedia, etc. [7], the internet shutdown during the Uyghur protest [8], and many others. In a later section, I will discuss the patterns behind censorship and the related ethical issues in more detail.\nTechnical background The three elements, prescription, identification, and interference, serve as a three-step process to accomplish the censorship goal. Censors determine what to censor during the prescription stage. Identification is the process to identify traffics to be censored based on the prescribed results. Finally, censors implement ways to block or impair access to those identified connections and traffics.\nThe prescription process can be either static or dynamic or both [9]. The static approach uses a blocklist to maintain a list of elements to be blocked. There are three types of blocklist elements [4]: keyword, domain name, and IP address. The prescription may happen in real-time as well. During traffic bursts, the censors may use web crawling, machine learning, or even massive human labor to evaluate real-time contents and decide if they should be censored [10].\nThe last two steps, identification and interference, can happen at all levels of the network hierarchy where the internet traffics is transmitted. I will call points controlled by the censors in the network hierarchy as points of control, which include but are not limited to: the Internet backbone [11], internet service providers, content distribution networks, and service providers (e.g., search engines, video hosting services, online forums, etc.). After identifying the points of control, the censors can install identification and interference hardware to perform the last two steps.\nCensors can identify prescribed elements in either the application layer or the transportation layer or both (they often use both to get more accurate results). At the application layer, the most straightforward way to identify blocklist elements is by looking at the HTTP request/response header. The header contains a list of useful information such as the domain name of the requested service under the “host” field. In this way, the censors can block or impair traffics with the hosts in the blocklist [12]. Another related method is URL filtering. A more expensive and intrusive way for identification is called Deep Packet Inspection (DPI). DPI reassembles network flows to examine the application “data” section, as opposed to only headers, and is therefore often used for identifying prescribed keywords [13]. DPI is also used in blocking Tor in China [14]. At the transport layer, the transport header contains the source IP address and destination IP address that can be used to identify the prescribed IPs. The port number along with properties of payload data and flow behavior can be used to identify the protocol used [15], to detect and block traffics generated using circumvention tools. China uses this protocol identification to block Tor [12]. Furthermore, internal identification where content providers identify keywords within their services can be also deployed. A commonly used method of instrumenting content distributors/providers consists of keyword identification to detect restricted terms on their platform. The distributors are willing to comply either due to pressure from the government or incentives from the government or both.\nAfter prescribing and identifying elements, the next step is to interfere with those elements by blocking or impairing them. At the application layer, the most commonplace point censors use to interfere is at Domain Name System (DNS). When users enter a domain name to access the website, the browser iteratively asks DNS servers about the IP address associated with the domain to request contents from the website. If the domain name is in the blocklist, determined in the prescription and identification phase, the censor will interfere with the translation process (from domain name to IP address). There are many ways that censors can use to block access to content by altering responses from the DNS, including blocking the response, replying with an error message, or responding with an incorrect address [4][16]. The most prominent technique is DNS cache poisoning. To increase the “translation” performance, DNS servers usually cache the translations for future uses. However, if the DNS servers controlled by the censor respond more quickly than the authoritative DNS resolver with a fake IP address, then the fake address will be cached in all downstream DNS resolvers, which will affect all computers that use those resolvers. At the transport layer, packet dropping is a simple way to block any connection with certain prescribed elements. For example, China once dropped all packets to GitHub (the destination IP belongs to GitHub) [17]. If the connection has already been established, the censor can inject RST packets to both sides of the connection that signify the session has been terminated.\nOther interfering techniques include Distributed Denial of Service (DDoS), network shutdown, manual filtering, self-censorship, and server takedown [4]. The DDoS attack uses botnet or other distributed platforms to flood the services to be blocked by sending enormous traffic to the website so that legitimate requests are ignored. The “Great Cannon”, part of the Great Firewall of China, once redirected web visits to attack certain services [18]. The network shutdown and server takedown, as the names suggested, shut down certain services or all services. China shut down the network in the Xinjiang region during unrest in 2009 in an effort to prevent the protests from spreading to other regions [19]. To avoid being held liable by the government, companies are pressured or incentivized to apply self-censorship. Weibo and Google before its retreat agreed to conform to be “self-disciplined” in order to get the business license to operate in China [20]. Self-discipline involves taking down content that has certain keywords. Manual filtering is more accurate in marking or removing content with certain keywords than automatic filtering using machine learning. China’s army of monitors employs a lot of human laborers to censor the contents [10].\nImplications of the censorship in China Technologies have implications when they are deployed in the real world. All of the techniques described above can be used to censor child porn, pirate music, or political content. Why the internet censorship is particularly controversial in China, when other countries censor online content to some extent as well? To figure out that question, we need to know what contents are blocked or impaired in China.\nAccording to [10], there are three types of censorship regarding human expression in China: entire websites in [7] such as Facebook, and YouTube; keyword blocking; hand/manual censoring. The first two censorship techniques can be evaded if you really want to express yourself. China has close alternatives to banned websites such as Weibo (vs Twitter), Baidu (vs Google), and WeChat (vs Facebook, Snapchat, Instagram), and people can express themselves on those platforms. The keyword blocking can be evaded easily since netizens in China can outwit automated keyword binding programs by coming up with clever phasing due to the characteristics of the Chinese language. However, none of the evading techniques could pass the third technique, manual censoring. Since the third technique is the most expensive, extensive, and the strictest technique and the first two have little effect on suppressing human expression, [10] argues that measuring what the manual censoring tries to block gives us an idea of what the Chinese government tries to censor. After comparing the contents of censored posts and non-censored posts, [10] concludes that posts with collective potential, porn, and criticisms of the censors are heavily censored. Posts with collective potential refer to posts posted by someone other than the government and have the potential to join people together to express themselves collectively or even generate collective actions such as protests. On the contrary, posts about government policies, and verbal attacks on government and government officials are much less censored, unless they are attacks on censorship itself. For example, posts about people rushing to buy salt after the earthquake and posts about supporting the government’s actions in the Philippine-China island dispute are censored and blocked as they are considered to have collective potential, despite they are innocuous and pro-government. On the other hand, posts about local corruption that do not have collective potential are not censored by the central government (might be censored by the local governments) and might be even encouraged since the central government wants to know the truth and better control the local governments and maintain its stability. [5] uses the word “solidarity” to refer to the same idea of the collective potential.\nIn summary, posts/contents that have collective potential or encourage solidarity without the intention of the central government are censored and likely to be blocked, along with porn and criticisms of the censorship. Additionally, foreign services that do not comply with the censorship agreement, keywords that are deemed “harmful” by the government [21], and posts that are blocked by stricter censorships rules made by content providers to avoid liability (government might allow certain posts but companies just ban them outright) are also censored. Now that we have some ideas on what contents will be censored, what are the ethical issues with such decisions that censor those types of information mentioned above?\nEthical arguments Freedom of speech The central ethical issue of censorship is whether it violates freedom of speech. If we interpret freedom of speech to its “extreme” form, namely, everyone shall have the right to seek, receive and impart information and ideas of all kinds, through any media of his choice [22], then any kind of censorship violates this right. In reality, it is used with Mill’s harm principle: the only purpose for which power can be rightfully exercised over any member of a civilized community, against his will, is to prevent harm to others [23]. In other words, people can seek and express whatever they want only if it does not produce harm to others. As a matter of fact, the constitution of China closely follows Mill’s harm principle. According to Article 35 of the Constitution of the People’s Republic of China, citizens of the People’s Republic of China enjoy the freedom of speech, of the press, of assembly, of association, of procession, and of demonstration [24]; according to Article 51, when the citizens of the People’s Republic of China exercises freedom and rights, they must not harm the interest of the state, society, people and other citizen’s freedom and rights [27].\nIf we believe in freedom of speech as a human right using Mill’s harm principle, then the morality of censorship in the case of porn, collective potential, and criticism of censorship is dependent on whether those three things produce harm. If they do not produce any harm, then censoring them is immoral.\nDoes, the first category of censorship in China, porn produce harm? It is worth noting that porn here refers to producing, disseminating, or selling porn, not watching porn privately. The censoring of child porn in Australia and many other countries can be justified using Mill’s harm principle if we think harm is produced because child porn involves actual sexual abuse or exploitation of children [25]. But can we justify the claim that extends the censorship to the block of all porn on the internet (if porn is put on the internet, it is considered disseminating/selling porn)? To do that, we have to extend the notion of harm beyond explicit harm as there is no explicit harm involved in the production/dissemination/selling of non-child porn:\n If X is intrinsically morally wrong [25], then X produces harm. Porn is intrinsically morally wrong. Porn produces harm (1,2) If porn produces harm, then it is morally permissible to censor porn. Censoring porn is morally permissible (3, 4).  The 2nd assumption follows because the Chinese government regards porn as “spiritual pollution” [26] and if anything pollutes the mind or spirit, it can be seen as intrinsically wrong.\nThe same framework can be applied to the second and third categories of censorship in China: collective potential and criticisms of censorship itself. To simplify things a bit, I would regard the criticisms of censorship as one type of collective potential since it has the potential to gather public expressions such as collective disapproval. To justify the censorship of collective potential, harm must be shown. Does collective potential have explicit harm? Collective actions can be either a peaceful demonstration or protest that is legal under Article 35, or protests that explicitly harm others. Since collective potential only has the potential to be either one of them, it currently does not have explicit harm. Collective potential also cannot be determined to be intrinsically morally wrong due to the same reason. Therefore, an argument against the morality of censoring collective potential can be formed:\n If collective potential does not produce harm, then censorship of collective potential is morally impermissible as it violated freedom of speech. Collective potential does not produce harm. It is not morally permissible to censor collective potential (1,2).  If we really want to justify the morality of censoring collective potential, we have to extend the notion of harm one step further: actions that are “very likely” to produce harm are considered harmful in themselves. For example, posts about people rushing to buy salt after an earthquake may very likely lead to collective actions that result in people who are in dire need of salt cannot buy salt, so it is harmful under the newly extended notion of harm. Therefore, it is morally permissible to take down such posts as we are “almost 100% sure” that they will harm others. A problem with such an extension on the definition of harm is that it is naturally under arbitration and ambiguity. The notion of “very likely” is extremely open to interpretation. This ambiguity is exacerbated by the fact that most censorship occurs at the company level under the category of self-censorship. Because there exists little clear guideline on what to censor, companies have to do guesswork themselves. When Google was questioned by the U.S. Congress on whether they have confirmed with the Chinese government on what to censor before actually censoring those contents, Google said they were just following what others did (local companies, Yahoo!, etc.) [5]. Essentially, it was not the government that was censoring, it was Google that made the decisions. Furthermore, the users will do self-censorship before they express themselves if they fear their speech would be considered “very likely” to produce harm. Therefore, the argument against considering “very likely” to cause harm as harm can be formed:\n If everyone in the world has to perform self-censorship and others might censor your expression based on arbitrary criteria, then the freedom of speech is violated. It is the case that everyone has to self-censor and the censorship criteria are arbitrary since we do not have standard censorship rules. The freedom of speech is violated (1,2).  Therefore, we have to reject the arbitration in determining the harm of some actions. As a result, it is not morally permissible to censor collective potential.\nInternet access as a human right It is not entirely true that foreign services such as Google, YouTube, and Wikipedia are blocked altogether. Circumvention tools such as Virtual Private Network (VPN) still exist and are functional, although VPN service providers are often engaged in the “cat and mouse” game with the government as using VPN is not illegal while providing VPN to the public is illegal. As a result, elites with the knowledge and money to use VPN, elite universities, foreigners, and foreign companies do have the access to the “whole” internet, although with some costs and some hassles such as the need to change VPN providers from time to time. On the other hand, people without such capabilities do not have access to part of the services on the internet. If we define internet access as access to the internet infrastructure and web services on top of that and internet access is one of the human rights, then most Chinese people’s right to access the internet is violated.\nConclusion The report first discusses general techniques to perform censorship. Then it focuses on China to discuss the implications of using censorship techniques. Specifically, the report shows what the government really tries to censor and block: information with collective potential, porn, and critics of the censorship. Finally, the report discusses the ethical issues of the censorship performed in China around violation of freedom of speech and violation of internet access as a human right.\nSince censorship in itself is not intrinsically wrong, as we have shown in discussing the censorship of child porn. However, the only way to justify censoring collective potential is to treat information that is “very likely” to cause harm as real harm, leading to the problem of arbitration and self-censorship. To resolve that, we can either stop censoring collective potential or define “very-likely” in clear, transparent, and standardized ways.\nReferences [1] There May Soon Be Three Internets. America’s Won’t Necessarily Be the Best -https://www.nytimes.com/2018/10/15/opinion/internet-google-china-balkanization.html\n[2] Internet Censorship 2020: A Global Map of Internet Restrictions - https://globalfreedomofexpression.columbia.edu/publications/internet-censorship-2020-a-global-map-of-internet-restrictions/\n[3] Censorship, Wikipedia - https://en.wikipedia.org/wiki/Censorship\n[4] A Survey of Worldwide Censorship Techniques: draft-irtf-pearg-censorship-04\n[5] The Great Firewall of China: How to Build and Control an Alternative Version of the Internet\n[6] S. Levy, In the Plex: how Google thinks, works, and shapes our lives, New York NY: Simon and Schuster, 2011, p. 306.\n[7] https://en.wikipedia.org/wiki/List_of_websites_blocked_in_mainland_China\n[8] Trapped in a virtual cage: Chinese state repression of Uyghurs online, Uyghur Human Rights Project, 2014, p. 2.\n[9] Centralized Content-Based Web Filtering and Blocking: How Far Can It Go? -\nhttp://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.132.3302\u0026rep=rep1\u0026type=pdf\n[10] How Censorship in China Allows Government Criticism but Silences Collective Expression\n[11] Measuring and Analyzing National AS Chokepoints - https://forrest.biodesign.asu.edu/data/publications/2019-compass-chokepoints.pdf\n[12] Inferring Mechanics of Web Censorship Around the World - https://www.usenix.org/system/files/conference/foci12/foci12-final1.pdf\n[13] Deep Packet Inspection and Internet Censorship: International Convergence on an ‘Integrated Technology of Control’ - http://advocacy.globalvoicesonline.org/wpcontent/uploads/2009/06/deeppacketinspectionandinternet-censorship2.pdf\n[14] How China is Blocking Tor - http://arxiv.org/pdf/1204.0447v1.pdf\n[15] Breaking and Improving Protocol Obfuscation https://www.iis.se/docs/hjelmvik_breaking.pdf\n[16] Report of the AFNIC Scientific Council: Consequences of DNS-based Internet filtering - http://www.afnic.fr/medias/documents/conseilscientifique/SC-consequences-of-DNS-based-Internet-filtering.pdf\n[17] GitHub blocked in China - how it happened, how to get around it, and where it will take us - https://en.greatfire.org/blog/2013/jan/github-blocked-china-how-it-happened-how-get-around-it-and-where-it-will-take-us\n[18] An Analysis of China’s “Great Cannon” - https://www.usenix.org/system/files/conference/foci15/foci15-paper-marczak.pdf\n[19] China Shuts Down Internet in Xinjiang Region After Riots - https://opennet.net/blog/2009/07/china-shuts-down-internet-xinjiang-region-after-riots\n[20] China employs two million microblog monitors statemedia say - http://www.bbc.com/news/world-asia-china-2439695\n[21] https://blockedonweibo.tumblr.com/tagged/list\n[22] Freedom of Speech, Wiki - https://en.wikipedia.org/wiki/Freedom_of_speech\n[23] https://plato.stanford.edu/entries/freedom-speech/#HarPriFreSpe\n[24] http://en.people.cn/constitution/constitution.html\n[25] https://plato.stanford.edu/entries/pornography-censorship/\n[26] https://en.wikipedia.org/wiki/Pornography_in_China\n[27] https://baike.baidu.com/item/%E8%A8%80%E8%AE%BA%E8%87%AA%E7%94%B1\n","wordCount":"3317","inLanguage":"en","datePublished":"2021-05-04T23:33:00-07:00","dateModified":"2021-05-04T23:33:00-07:00","author":{"@type":"Person","name":"Wenxuan Zhao"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://allanware.github.io/posts/2021/05/internet-censorship-in-china/"},"publisher":{"@type":"Organization","name":"Wenxuan Zhao","logo":{"@type":"ImageObject","url":"https://allanware.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://allanware.github.io/ accesskey=h title="Wenxuan Zhao (Alt + H)">Wenxuan Zhao</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://allanware.github.io/zh/ title=中文 aria-label=中文>Zh</a></li></ul></span></div><ul id=menu><li><a href=https://allanware.github.io/ title=Home><span>Home</span></a></li><li><a href=https://allanware.github.io/about/ title=About><span>About</span></a></li><li><a href=https://allanware.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://allanware.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://allanware.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://allanware.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://allanware.github.io/posts/>Posts</a></div><h1 class=post-title>Internet Censorship in China</h1><div class=post-meta><span title="2021-05-04 23:33:00 -0700 -0700">May 4, 2021</span>&nbsp;·&nbsp;16 min&nbsp;·&nbsp;Wenxuan Zhao</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#abstract aria-label=Abstract>Abstract</a></li><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#technical-background aria-label="Technical background">Technical background</a></li><li><a href=#implications-of-the-censorship-in-china aria-label="Implications of the censorship in China">Implications of the censorship in China</a></li><li><a href=#ethical-arguments aria-label="Ethical arguments">Ethical arguments</a><ul><li><a href=#freedom-of-speech aria-label="Freedom of speech">Freedom of speech</a></li><li><a href=#internet-access-as-a-human-right aria-label="Internet access as a human right">Internet access as a human right</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><h2 id=abstract>Abstract<a hidden class=anchor aria-hidden=true href=#abstract>#</a></h2><p>Internet, the network of networks, has long been regarded as the borderless utopian world where people across the world can communicate and share anything they want. This vision is reinforced by the continual growth of the internet powered by advances in both hardware and software. However, as the report shows, the future of the global network may be shaped by regional differences [1]. One notable difference is how different governments censor online information. In this report, I will discuss internet censoring techniques, what types of information are censored specifically in China, and ethical concerns regarding internet censorship in China.</p><p><img loading=lazy src=online_censorship.png alt=online-censorship></p><p><em><em>Internet censorship 2020: [2]</em></em></p><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Censorship is where an entity in a position of power - such as a government, organization, or individual - suppresses communication that it considers objectionable, harmful, sensitive, politically incorrect, or inconvenient [3]. If someone is censored, she could be suppressed in either accessing or publishing certain information or both. In the context of the internet, censorship is composed of three elements [4]: prescription, identification, and interference. In the section below that discusses internet censorship techniques, I will have more details on how those elements are implemented.</p><p>The Great Firewall of China, the internet version of the Great Wall that censors both domestic and international internet traffic, is extremely controversial. Ever since China was connected to the Internet, the Chinese government realized its potential and attempted to control the internet [5]. Over the years, we have seen events that scream censorship led by the government: Google’s eventual retreat after years of attempts to reach a mutual agreement with the government regarding censorship [6], the block of YouTube, Facebook, Twitter, Wikipedia, etc. [7], the internet shutdown during the Uyghur protest [8], and many others. In a later section, I will discuss the patterns behind censorship and the related ethical issues in more detail.</p><h2 id=technical-background>Technical background<a hidden class=anchor aria-hidden=true href=#technical-background>#</a></h2><p>The three elements, prescription, identification, and interference, serve as a three-step process to accomplish the censorship goal. Censors determine what to censor during the prescription stage. Identification is the process to identify traffics to be censored based on the prescribed results. Finally, censors implement ways to block or impair access to those identified connections and traffics.</p><p>The prescription process can be either static or dynamic or both [9]. The static approach uses a blocklist to maintain a list of elements to be blocked. There are three types of blocklist elements [4]: keyword, domain name, and IP address. The prescription may happen in real-time as well. During traffic bursts, the censors may use web crawling, machine learning, or even massive human labor to evaluate real-time contents and decide if they should be censored [10].</p><p>The last two steps, identification and interference, can happen at all levels of the network hierarchy where the internet traffics is transmitted. I will call points controlled by the censors in the network hierarchy as points of control, which include but are not limited to: the Internet backbone [11], internet service providers, content distribution networks, and service providers (e.g., search engines, video hosting services, online forums, etc.). After identifying the points of control, the censors can install identification and interference hardware to perform the last two steps.</p><p>Censors can identify prescribed elements in either the application layer or the transportation layer or both (they often use both to get more accurate results). <strong>At the application layer</strong>, the most straightforward way to identify blocklist elements is by looking at the HTTP request/response header. The header contains a list of useful information such as the domain name of the requested service under the “host” field. In this way, the censors can block or impair traffics with the hosts in the blocklist [12]. Another related method is URL filtering. A more expensive and intrusive way for identification is called Deep Packet Inspection (DPI). DPI reassembles network flows to examine the application &ldquo;data&rdquo; section, as opposed to only headers, and is therefore often used for identifying prescribed keywords [13]. DPI is also used in blocking Tor in China [14]. <strong>At the transport layer</strong>, the transport header contains the source IP address and destination IP address that can be used to identify the prescribed IPs. The port number along with properties of payload data and flow behavior can be used to identify the protocol used [15], to detect and block traffics generated using circumvention tools. China uses this protocol identification to block Tor [12]. Furthermore, internal identification where content providers identify keywords within their services can be also deployed. A commonly used method of instrumenting content distributors/providers consists of keyword identification to detect restricted terms on their platform. The distributors are willing to comply either due to pressure from the government or incentives from the government or both.</p><p>After prescribing and identifying elements, the next step is to interfere with those elements by blocking or impairing them. <strong>At the application layer</strong>, the most commonplace point censors use to interfere is at Domain Name System (DNS). When users enter a domain name to access the website, the browser iteratively asks DNS servers about the IP address associated with the domain to request contents from the website. If the domain name is in the blocklist, determined in the prescription and identification phase, the censor will interfere with the translation process (from domain name to IP address). There are many ways that censors can use to block access to content by altering responses from the DNS, including blocking the response, replying with an error message, or responding with an incorrect address [4][16]. The most prominent technique is DNS cache poisoning. To increase the “translation” performance, DNS servers usually cache the translations for future uses. However, if the DNS servers controlled by the censor respond more quickly than the authoritative DNS resolver with a fake IP address, then the fake address will be cached in all downstream DNS resolvers, which will affect all computers that use those resolvers. <strong>At the transport layer</strong>, packet dropping is a simple way to block any connection with certain prescribed elements. For example, China once dropped all packets to GitHub (the destination IP belongs to GitHub) [17]. If the connection has already been established, the censor can inject RST packets to both sides of the connection that signify the session has been terminated.</p><p>Other interfering techniques include Distributed Denial of Service (DDoS), network shutdown, manual filtering, self-censorship, and server takedown [4]. The DDoS attack uses botnet or other distributed platforms to flood the services to be blocked by sending enormous traffic to the website so that legitimate requests are ignored. The “Great Cannon”, part of the Great Firewall of China, once redirected web visits to attack certain services [18]. The network shutdown and server takedown, as the names suggested, shut down certain services or all services. China shut down the network in the Xinjiang region during unrest in 2009 in an effort to prevent the protests from spreading to other regions [19]. To avoid being held liable by the government, companies are pressured or incentivized to apply self-censorship. Weibo and Google before its retreat agreed to conform to be &ldquo;self-disciplined&rdquo; in order to get the business license to operate in China [20]. Self-discipline involves taking down content that has certain keywords. Manual filtering is more accurate in marking or removing content with certain keywords than automatic filtering using machine learning. China’s army of monitors employs a lot of human laborers to censor the contents [10].</p><h2 id=implications-of-the-censorship-in-china>Implications of the censorship in China<a hidden class=anchor aria-hidden=true href=#implications-of-the-censorship-in-china>#</a></h2><p>Technologies have implications when they are deployed in the real world. All of the techniques described above can be used to censor child porn, pirate music, or political content. Why the internet censorship is particularly controversial in China, when other countries censor online content to some extent as well? To figure out that question, we need to know what contents are blocked or impaired in China.</p><p>According to [10], there are three types of censorship regarding human expression in China: entire websites in [7] such as Facebook, and YouTube; keyword blocking; hand/manual censoring. The first two censorship techniques can be evaded if you really want to express yourself. China has close alternatives to banned websites such as Weibo (vs Twitter), Baidu (vs Google), and WeChat (vs Facebook, Snapchat, Instagram), and people can express themselves on those platforms. The keyword blocking can be evaded easily since netizens in China can outwit automated keyword binding programs by coming up with clever phasing due to the characteristics of the Chinese language. However, none of the evading techniques could pass the third technique, manual censoring. Since the third technique is the most expensive, extensive, and the strictest technique and the first two have little effect on suppressing human expression, [10] argues that measuring what the manual censoring tries to block gives us an idea of what the Chinese government tries to censor. After comparing the contents of censored posts and non-censored posts, [10] concludes that posts with collective potential, porn, and criticisms of the censors are heavily censored. Posts with collective potential refer to posts posted by someone other than the government and have the potential to join people together to express themselves collectively or even generate collective actions such as protests. On the contrary, posts about government policies, and verbal attacks on government and government officials are much less censored, unless they are attacks on censorship itself. For example, posts about people rushing to buy salt after the earthquake and posts about supporting the government’s actions in the Philippine-China island dispute are censored and blocked as they are considered to have collective potential, despite they are innocuous and pro-government. On the other hand, posts about local corruption that do not have collective potential are not censored by the central government (might be censored by the local governments) and might be even encouraged since the central government wants to know the truth and better control the local governments and maintain its stability. [5] uses the word &ldquo;solidarity&rdquo; to refer to the same idea of the collective potential.</p><p>In summary, posts/contents that have collective potential or encourage solidarity without the intention of the central government are censored and likely to be blocked, along with porn and criticisms of the censorship. Additionally, foreign services that do not comply with the censorship agreement, keywords that are deemed “harmful” by the government [21], and posts that are blocked by stricter censorships rules made by content providers to avoid liability (government might allow certain posts but companies just ban them outright) are also censored. Now that we have some ideas on what contents will be censored, what are the ethical issues with such decisions that censor those types of information mentioned above?</p><h2 id=ethical-arguments>Ethical arguments<a hidden class=anchor aria-hidden=true href=#ethical-arguments>#</a></h2><h3 id=freedom-of-speech>Freedom of speech<a hidden class=anchor aria-hidden=true href=#freedom-of-speech>#</a></h3><p>The central ethical issue of censorship is whether it violates freedom of speech. If we interpret freedom of speech to its “extreme” form, namely, everyone shall have the right to seek, receive and impart information and ideas of all kinds, through any media of his choice [22], then any kind of censorship violates this right. In reality, it is used with Mill’s harm principle: the only purpose for which power can be rightfully exercised over any member of a civilized community, against his will, is to prevent harm to others [23]. In other words, people can seek and express whatever they want only if it does not produce harm to others. As a matter of fact, the constitution of China closely follows Mill’s harm principle. According to Article 35 of the Constitution of the People&rsquo;s Republic of China, citizens of the People&rsquo;s Republic of China enjoy the freedom of speech, of the press, of assembly, of association, of procession, and of demonstration [24]; according to Article 51, when the citizens of the People&rsquo;s Republic of China exercises freedom and rights, they must not harm the interest of the state, society, people and other citizen’s freedom and rights [27].</p><p>If we believe in freedom of speech as a human right using Mill’s harm principle, then the morality of censorship in the case of porn, collective potential, and criticism of censorship is dependent on whether those three things produce harm. If they do not produce any harm, then censoring them is immoral.</p><p>Does, the first category of censorship in China, porn produce harm? It is worth noting that porn here refers to producing, disseminating, or selling porn, not watching porn privately. The censoring of child porn in Australia and many other countries can be justified using Mill’s harm principle if we think harm is produced because child porn involves actual sexual abuse or exploitation of children [25]. But can we justify the claim that extends the censorship to the block of all porn on the internet (if porn is put on the internet, it is considered disseminating/selling porn)? To do that, we have to extend the notion of harm beyond explicit harm as there is no explicit harm involved in the production/dissemination/selling of non-child porn:</p><ol><li>If X is intrinsically morally wrong [25], then X produces harm.</li><li>Porn is intrinsically morally wrong.</li><li>Porn produces harm (1,2)</li><li>If porn produces harm, then it is morally permissible to censor porn.</li><li>Censoring porn is morally permissible (3, 4).</li></ol><p>The 2nd assumption follows because the Chinese government regards porn as &ldquo;spiritual pollution&rdquo; [26] and if anything pollutes the mind or spirit, it can be seen as intrinsically wrong.</p><p>The same framework can be applied to the second and third categories of censorship in China: collective potential and criticisms of censorship itself. To simplify things a bit, I would regard the criticisms of censorship as one type of collective potential since it has the potential to gather public expressions such as collective disapproval. To justify the censorship of collective potential, harm must be shown. Does collective potential have explicit harm? Collective actions can be either a peaceful demonstration or protest that is legal under Article 35, or protests that explicitly harm others. Since collective potential only has the potential to be either one of them, it currently does not have explicit harm. Collective potential also cannot be determined to be intrinsically morally wrong due to the same reason. Therefore, an argument against the morality of censoring collective potential can be formed:</p><ol><li>If collective potential does not produce harm, then censorship of collective potential is morally impermissible as it violated freedom of speech.</li><li>Collective potential does not produce harm.</li><li>It is not morally permissible to censor collective potential (1,2).</li></ol><p>If we really want to justify the morality of censoring collective potential, we have to extend the notion of harm one step further: actions that are “very likely” to produce harm are considered harmful in themselves. For example, posts about people rushing to buy salt after an earthquake may very likely lead to collective actions that result in people who are in dire need of salt cannot buy salt, so it is harmful under the newly extended notion of harm. Therefore, it is morally permissible to take down such posts as we are “almost 100% sure” that they will harm others. A problem with such an extension on the definition of harm is that it is naturally under arbitration and ambiguity. The notion of “very likely” is extremely open to interpretation. This ambiguity is exacerbated by the fact that most censorship occurs at the company level under the category of self-censorship. Because there exists little clear guideline on what to censor, companies have to do guesswork themselves. When Google was questioned by the U.S. Congress on whether they have confirmed with the Chinese government on what to censor before actually censoring those contents, Google said they were just following what others did (local companies, Yahoo!, etc.) [5]. Essentially, it was not the government that was censoring, it was Google that made the decisions. Furthermore, the users will do self-censorship before they express themselves if they fear their speech would be considered “very likely” to produce harm. Therefore, the argument against considering “very likely” to cause harm as harm can be formed:</p><ol><li>If everyone in the world has to perform self-censorship and others might censor your expression based on arbitrary criteria, then the freedom of speech is violated.</li><li>It is the case that everyone has to self-censor and the censorship criteria are arbitrary since we do not have standard censorship rules.</li><li>The freedom of speech is violated (1,2).</li></ol><p>Therefore, we have to reject the arbitration in determining the harm of some actions. As a result, it is not morally permissible to censor collective potential.</p><h3 id=internet-access-as-a-human-right>Internet access as a human right<a hidden class=anchor aria-hidden=true href=#internet-access-as-a-human-right>#</a></h3><p>It is not entirely true that foreign services such as Google, YouTube, and Wikipedia are blocked altogether. Circumvention tools such as Virtual Private Network (VPN) still exist and are functional, although VPN service providers are often engaged in the “cat and mouse” game with the government as using VPN is not illegal while providing VPN to the public is illegal. As a result, elites with the knowledge and money to use VPN, elite universities, foreigners, and foreign companies do have the access to the “whole” internet, although with some costs and some hassles such as the need to change VPN providers from time to time. On the other hand, people without such capabilities do not have access to part of the services on the internet. If we define internet access as access to the internet infrastructure and web services on top of that and internet access is one of the human rights, then most Chinese people’s right to access the internet is violated.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>The report first discusses general techniques to perform censorship. Then it focuses on China to discuss the implications of using censorship techniques. Specifically, the report shows what the government really tries to censor and block: information with collective potential, porn, and critics of the censorship. Finally, the report discusses the ethical issues of the censorship performed in China around violation of freedom of speech and violation of internet access as a human right.</p><p>Since censorship in itself is not intrinsically wrong, as we have shown in discussing the censorship of child porn. However, the only way to justify censoring collective potential is to treat information that is “very likely” to cause harm as real harm, leading to the problem of arbitration and self-censorship. To resolve that, we can either stop censoring collective potential or define “very-likely” in clear, transparent, and standardized ways.</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><p>[1] There May Soon Be Three Internets. America’s Won’t Necessarily Be the Best -https://www.nytimes.com/2018/10/15/opinion/internet-google-china-balkanization.html</p><p>[2] Internet Censorship 2020: A Global Map of Internet Restrictions - <a href=https://globalfreedomofexpression.columbia.edu/publications/internet-censorship-2020-a-global-map-of-internet-restrictions/>https://globalfreedomofexpression.columbia.edu/publications/internet-censorship-2020-a-global-map-of-internet-restrictions/</a></p><p>[3] Censorship, Wikipedia - <a href=https://en.wikipedia.org/wiki/Censorship>https://en.wikipedia.org/wiki/Censorship</a></p><p>[4] A Survey of Worldwide Censorship Techniques: draft-irtf-pearg-censorship-04</p><p>[5] The Great Firewall of China: How to Build and Control an Alternative Version of the Internet</p><p>[6] S. Levy, In the Plex: how Google thinks, works, and shapes our lives, New York NY: Simon and Schuster, 2011, p. 306.</p><p>[7] <a href=https://en.wikipedia.org/wiki/List_of_websites_blocked_in_mainland_China>https://en.wikipedia.org/wiki/List_of_websites_blocked_in_mainland_China</a></p><p>[8] Trapped in a virtual cage: Chinese state repression of Uyghurs online, Uyghur Human Rights Project, 2014, p. 2.</p><p>[9] Centralized Content-Based Web Filtering and Blocking: How Far Can It Go? -</p><p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.132.3302&rep=rep1&type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.132.3302&rep=rep1&type=pdf</a></p><p>[10] How Censorship in China Allows Government Criticism but Silences Collective Expression</p><p>[11] Measuring and Analyzing National AS Chokepoints - <a href=https://forrest.biodesign.asu.edu/data/publications/2019-compass-chokepoints.pdf>https://forrest.biodesign.asu.edu/data/publications/2019-compass-chokepoints.pdf</a></p><p>[12] Inferring Mechanics of Web Censorship Around the World - <a href=https://www.usenix.org/system/files/conference/foci12/foci12-final1.pdf>https://www.usenix.org/system/files/conference/foci12/foci12-final1.pdf</a></p><p>[13] Deep Packet Inspection and Internet Censorship: International Convergence on an ‘Integrated Technology of Control’ - <a href=http://advocacy.globalvoicesonline.org/wpcontent/uploads/2009/06/deeppacketinspectionandinternet-censorship2.pdf>http://advocacy.globalvoicesonline.org/wpcontent/uploads/2009/06/deeppacketinspectionandinternet-censorship2.pdf</a></p><p>[14] How China is Blocking Tor - <a href=http://arxiv.org/pdf/1204.0447v1.pdf>http://arxiv.org/pdf/1204.0447v1.pdf</a></p><p>[15] Breaking and Improving Protocol Obfuscation <a href=https://www.iis.se/docs/hjelmvik_breaking.pdf>https://www.iis.se/docs/hjelmvik_breaking.pdf</a></p><p>[16] Report of the AFNIC Scientific Council: Consequences of DNS-based Internet filtering - <a href=http://www.afnic.fr/medias/documents/conseilscientifique/SC-consequences-of-DNS-based-Internet-filtering.pdf>http://www.afnic.fr/medias/documents/conseilscientifique/SC-consequences-of-DNS-based-Internet-filtering.pdf</a></p><p>[17] GitHub blocked in China - how it happened, how to get around it, and where it will take us - <a href=https://en.greatfire.org/blog/2013/jan/github-blocked-china-how-it-happened-how-get-around-it-and-where-it-will-take-us>https://en.greatfire.org/blog/2013/jan/github-blocked-china-how-it-happened-how-get-around-it-and-where-it-will-take-us</a></p><p>[18] An Analysis of China’s &ldquo;Great Cannon&rdquo; - <a href=https://www.usenix.org/system/files/conference/foci15/foci15-paper-marczak.pdf>https://www.usenix.org/system/files/conference/foci15/foci15-paper-marczak.pdf</a></p><p>[19] China Shuts Down Internet in Xinjiang Region After Riots - <a href=https://opennet.net/blog/2009/07/china-shuts-down-internet-xinjiang-region-after-riots>https://opennet.net/blog/2009/07/china-shuts-down-internet-xinjiang-region-after-riots</a></p><p>[20] China employs two million microblog monitors statemedia say - <a href=http://www.bbc.com/news/world-asia-china-2439695>http://www.bbc.com/news/world-asia-china-2439695</a></p><p>[21] <a href=https://blockedonweibo.tumblr.com/tagged/list>https://blockedonweibo.tumblr.com/tagged/list</a></p><p>[22] Freedom of Speech, Wiki - <a href=https://en.wikipedia.org/wiki/Freedom_of_speech>https://en.wikipedia.org/wiki/Freedom_of_speech</a></p><p>[23] <a href=https://plato.stanford.edu/entries/freedom-speech/#HarPriFreSpe>https://plato.stanford.edu/entries/freedom-speech/#HarPriFreSpe</a></p><p>[24] <a href=http://en.people.cn/constitution/constitution.html>http://en.people.cn/constitution/constitution.html</a></p><p>[25] <a href=https://plato.stanford.edu/entries/pornography-censorship/>https://plato.stanford.edu/entries/pornography-censorship/</a></p><p>[26] <a href=https://en.wikipedia.org/wiki/Pornography_in_China>https://en.wikipedia.org/wiki/Pornography_in_China</a></p><p>[27] <a href=https://baike.baidu.com/item/%E8%A8%80%E8%AE%BA%E8%87%AA%E7%94%B1>https://baike.baidu.com/item/%E8%A8%80%E8%AE%BA%E8%87%AA%E7%94%B1</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://allanware.github.io/tags/censorship/>censorship</a></li><li><a href=https://allanware.github.io/tags/china/>china</a></li><li><a href=https://allanware.github.io/tags/internet/>internet</a></li></ul><nav class=paginav><a class=prev href=https://allanware.github.io/posts/2022/03/concert-review-1/><span class=title>« Prev</span><br><span>Concert Review 1</span></a>
<a class=next href=https://allanware.github.io/posts/2021/03/the-miracle-of-istanbul/><span class=title>Next »</span><br><span>The Miracle of Istanbul</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Allanware/allanware.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 <a href=https://allanware.github.io/>Wenxuan Zhao</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>