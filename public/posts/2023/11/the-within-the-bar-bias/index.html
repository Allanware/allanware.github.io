<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The within-the-bar bias | Wenxuan Zhao</title>
<meta name=keywords content="APAD"><meta name=description content="A paper A day: Newman and Scholl discovered a cognitive asymmetry called the with-in-the-bar bias originated from the graphical asymmetry in the bar graph representation of mean."><meta name=author content="Wenxuan Zhao"><link rel=canonical href=http://localhost:1313/posts/2023/11/the-within-the-bar-bias/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicons/favicon.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicons/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/favicons/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/favicons/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/2023/11/the-within-the-bar-bias/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y7CDN6L98B"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y7CDN6L98B")}</script><meta property="og:title" content="The within-the-bar bias"><meta property="og:description" content="A paper A day: Newman and Scholl discovered a cognitive asymmetry called the with-in-the-bar bias originated from the graphical asymmetry in the bar graph representation of mean."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/2023/11/the-within-the-bar-bias/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-14T20:07:32-06:00"><meta property="article:modified_time" content="2023-11-15T13:56:03-06:00"><meta property="og:site_name" content="Wenxuan Zhao"><meta name=twitter:card content="summary"><meta name=twitter:title content="The within-the-bar bias"><meta name=twitter:description content="A paper A day: Newman and Scholl discovered a cognitive asymmetry called the with-in-the-bar bias originated from the graphical asymmetry in the bar graph representation of mean."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"The within-the-bar bias","item":"http://localhost:1313/posts/2023/11/the-within-the-bar-bias/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The within-the-bar bias","name":"The within-the-bar bias","description":"A paper A day: Newman and Scholl discovered a cognitive asymmetry called the with-in-the-bar bias originated from the graphical asymmetry in the bar graph representation of mean.","keywords":["APAD"],"articleBody":"Introduction Broadly, the paper focus on how bar graphs are naturally interpreted.\nThe mean value, a symmetric value that is influenced to the same degree by values that are located at equal distances above and below the mean, is represented by the farthest edge of a bar that originates from one particular axis, most typically below the mean.\nVisual objects are defined by the closure of their boundaries, such that attention is attracted to such objects but does not flow beyond the boundaries.\n==\u003e Hypothesis: When viewers are shown a bar graph that depicts a mean and are then asked to judge the likelihood that a particular value was part of its underlying distribution, they will judge points that fall with-in the bar as being more likely than points equidistant from the mean, but outside the bar. - they reflexively attend to the bars, and so to mistakenly prioritize regions within the bars over equivalent regions outside the bars\nExperiment 1: typical bar graph with error bar Design The participants were first shown a vertical bar graph with two bars originating from the lower x-axis half saw this: The other half saw this: The actual means were the same, the y-axis (and in turn the bar height) is different between subjects. Some filler items. Participants were then presented with a new page with the same graph axes as they just saw(remember, in step 1, the y-axis is different between 2 conditions) and a single test point, drawn at the midpoint of the y-axis. They then were asked to judge the likelihood from 1-9 that this value was part of the distribution that had been depicted by the bar seen earlier. this graph will be shown to participants who saw the overall “higher” bars: the within-condition group: the outside-bar group would see this: the test point stays at the midline across all conditions. The western and the eastern, as well as whether the test point was within or outside of the bar are balanced between subjects. Results Although the test point was equidistant from the initially depicted means, it was judged to be more likely to have come from the distribution when it was below the mean than when it was above the mean.\nExperiment 2 A potential confounding variable in experiment 1 is that the systematic differences in behavior between conditions may also due to viewers have a more general bias to favor points that are numerically below the mean.\nTo deconfound that, two additional y-axis sets of labels that represent the two types of “falling” bars were introduced. In total we have four conditions: rising-“short” bar, rising-“long” bar (short and long share the same numerical mean, one is short and one is long b/c of the manipulated y-axis labels), falling-“short” bar, and falling-“long” bar. Since the testing point is the same across conditions, participants who saw short bar are in “outside-bar” conditions, the same as what is in experiment 1. The catch is that the testing point will fall outside of the bars and below the mean in the falling-short condition.\nResult Test points that originated from within the bar again produced greater likelihood ratings, and it held for both rising bars and falling bars.\nExperiment 3 A second alternative explanation could be that participants assigned higher likelihood values to less extreme numeric labels. In experiment 1 and 2, the within- the-bar points had less extreme numeric labels than did the outside-the-bar points.\nMethod This experiment differed from the previous studies in the following ways:\nThe y-axis labels were identical across all conditions; The graphs contained only a single bar with no error bar (to minimize memory load); The graph depicted a new hypothetical source of the data (freezing points of chemicals in a science class) that was amenable to both positive and negative numbers centered at zero. In all conditions the bar depicted a mean of zero, and y-axis are the same. Therefore, the 4 conditions are:\nfalling bar, 5 (inside - not extreme) falling bar, -5 (outside, extreme) rising bar, 5 (outside, not extreme) rising bar, -5 (inside, extreme) I am not sure if -5 should be seen as the “extreme” value, compared to 5, or I am understanding incorrectly here. Result In both rising bar and falling bar conditions, points within the bars were judeged significantly more likely to belong to the distribution.\nExperiement 4: bar stays when making the judgement They wonder if in the “free viewing” condition the effect is still there: they made the graph was still present when they asked participants for their judgements. The rest of the setup is the same as that of experiment 3.\nThe effect is still here.\nExperiment 5: They changed the between-subject design to within-subject. They counterbalanced the question order and maybe also the rising, falling order. The rest stays the same as experiment 4. Result The effect is still significant: though 73% of the participants did rate the points as equally likely, the other 27% of participants reliably favor with-in-bar points.\nExperiment 6: effect on downstream decisions Design A between-subject design? with 3 groups:\ncontrol group: no graph shown, were given the same scenario as the other 2 conditions and were asked for a decision using a sliding bar (if the new tires should increase BTS ot decrease the BTS). rising bar group: the bar rises from -200 to 0 and stops at 0 to represent the mean. falling bar group: the bar falls from 200 t0 0 and stops at 0 to represent the mean. Result The presence of a rising bar led participants significantly increase BTS levels relative to control, while a falling bar caused participants to significantly decrease BTS levels relative to control. A further comparison confirmed that the resulting BTS levels differed between the rising- and falling-bar graph conditions.\nDiscussion This confirms that the influence of the within-the-bar bias is not limited to reasoning about bar graphs and statistical distributions per se, but can also influence decisions made about the content that the bar graphs depict.\nDiscussion of the results Bar graphs of means will doubtless remain ubiquitous, but in some situations means might be better represented with points rather than asymmetric bars—or, where possible, with depictions of the distributions themselves.\nThe stimuli and instructions can be found at here.\n","wordCount":"1049","inLanguage":"en","datePublished":"2023-11-14T20:07:32-06:00","dateModified":"2023-11-15T13:56:03-06:00","author":{"@type":"Person","name":"Wenxuan Zhao"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/2023/11/the-within-the-bar-bias/"},"publisher":{"@type":"Organization","name":"Wenxuan Zhao","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicons/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Wenxuan Zhao (Alt + H)">Wenxuan Zhao</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=http://localhost:1313/zh/ title=中文 aria-label=中文>中文</a></li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/ title=Home><span>Home</span></a></li><li><a href=http://localhost:1313/life/ title=Life><span>Life</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">The within-the-bar bias</h1><div class=post-meta><span title='2023-11-14 20:07:32 -0600 CST'>November 14, 2023</span>&nbsp;·&nbsp;<span title='2023-11-15 13:56:03 -0600 CST'>(updated November 15, 2023)</span>&nbsp;·&nbsp;Wenxuan Zhao</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#experiment-1-typical-bar-graph-with-error-bar aria-label="Experiment 1: typical bar graph with error bar">Experiment 1: typical bar graph with error bar</a><ul><li><a href=#design aria-label=Design>Design</a></li><li><a href=#results aria-label=Results>Results</a></li></ul></li><li><a href=#experiment-2 aria-label="Experiment 2">Experiment 2</a><ul><li><a href=#result aria-label=Result>Result</a></li></ul></li><li><a href=#experiment-3 aria-label="Experiment 3">Experiment 3</a><ul><li><a href=#method aria-label=Method>Method</a></li><li><a href=#result-1 aria-label=Result>Result</a></li></ul></li><li><a href=#experiement-4-bar-stays-when-making-the-judgement aria-label="Experiement 4: bar stays when making the judgement">Experiement 4: bar stays when making the judgement</a></li><li><a href=#experiment-5 aria-label="Experiment 5:">Experiment 5:</a><ul><li><a href=#result-2 aria-label=Result>Result</a></li></ul></li><li><a href=#experiment-6-effect-on-downstream-decisions aria-label="Experiment 6: effect on downstream decisions">Experiment 6: effect on downstream decisions</a><ul><li><a href=#design-1 aria-label=Design>Design</a></li><li><a href=#result-3 aria-label=Result>Result</a></li><li><a href=#discussion aria-label=Discussion>Discussion</a></li></ul></li><li><a href=#discussion-of-the-results aria-label="Discussion of the results">Discussion of the results</a></li></ul></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Broadly, the paper focus on how bar graphs are <em>naturally</em> interpreted.</p><p>The mean value, a symmetric value that is influenced to the same degree by values that are located at equal distances above and below the mean, is represented by the farthest edge of a bar that originates from one particular axis, most typically below the mean.</p><p>Visual objects are defined by the closure of their boundaries, such that attention is attracted to such objects but does not flow beyond the boundaries.</p><p>==> Hypothesis:
When viewers are shown a bar graph that depicts a mean and are then asked to judge the likelihood that a particular value was part of its underlying distribution, they will judge points that fall with-in the bar as being more likely than points equidistant from the mean, but outside the bar.
- they reflexively attend to the bars, and so to mistakenly prioritize regions within the bars over equivalent regions outside the bars</p><h2 id=experiment-1-typical-bar-graph-with-error-bar>Experiment 1: typical bar graph with error bar<a hidden class=anchor aria-hidden=true href=#experiment-1-typical-bar-graph-with-error-bar>#</a></h2><h3 id=design>Design<a hidden class=anchor aria-hidden=true href=#design>#</a></h3><ol><li>The participants were first shown a vertical bar graph with two bars originating from the lower x-axis<ul><li>half saw this: <img loading=lazy src=within_condition.png alt=within-condition></li><li>The other half saw this: <img loading=lazy src=outside_condition.png alt=outside-condition></li><li>The actual means were the same, the y-axis (and in turn the bar height) is different between subjects.</li></ul></li><li>Some filler items.</li><li>Participants were then presented with a new page with the same graph axes as they just saw(remember, in step 1, the y-axis is different between 2 conditions) and a single test point, drawn at the midpoint of the y-axis. They then were asked to judge the likelihood from 1-9 that this value was part of the distribution that had been depicted by the bar seen earlier.<ul><li>this graph will be shown to participants who saw the overall &ldquo;higher&rdquo; bars: the within-condition group: <img loading=lazy src=within_test.png alt=within-condition></li><li>the outside-bar group would see this: <img loading=lazy src=outside_test.png alt=outside-condition></li><li>the test point stays at the midline across all conditions. The western and the eastern, as well as whether the test point was within or outside of the bar are balanced between subjects.</li></ul></li></ol><h3 id=results>Results<a hidden class=anchor aria-hidden=true href=#results>#</a></h3><p>Although the test point was equidistant from the initially depicted means, it was judged to be more likely to have come from the distribution when it was below the mean than when it was above the mean.</p><h2 id=experiment-2>Experiment 2<a hidden class=anchor aria-hidden=true href=#experiment-2>#</a></h2><p>A potential confounding variable in experiment 1 is that the systematic differences in behavior between conditions may also due to viewers have a more general bias to favor points that are numerically below the mean.</p><p>To deconfound that, two additional y-axis sets of labels that represent the two types of &ldquo;falling&rdquo; bars were introduced. In total we have four conditions: rising-&ldquo;short&rdquo; bar, rising-&ldquo;long&rdquo; bar (short and long share the same numerical mean, one is short and one is long b/c of the manipulated y-axis labels), falling-&ldquo;short&rdquo; bar, and falling-&ldquo;long&rdquo; bar. Since the testing point is the same across conditions, participants who saw short bar are in &ldquo;outside-bar&rdquo; conditions, the same as what is in experiment 1. The catch is that the testing point will fall outside of the bars <em>and</em> below the mean in the falling-short condition.</p><h3 id=result>Result<a hidden class=anchor aria-hidden=true href=#result>#</a></h3><p>Test points that originated from within the bar again produced greater likelihood ratings, and it held for <em>both</em> rising bars and falling bars.</p><h2 id=experiment-3>Experiment 3<a hidden class=anchor aria-hidden=true href=#experiment-3>#</a></h2><p>A second alternative explanation could be that participants assigned higher likelihood values to less extreme numeric labels. In experiment 1 and 2, the within- the-bar points had less extreme numeric labels than did the outside-the-bar points.</p><h3 id=method>Method<a hidden class=anchor aria-hidden=true href=#method>#</a></h3><p>This experiment differed from the previous studies in the following ways:</p><ul><li>The y-axis labels were identical across all conditions;</li><li>The graphs contained only a single bar with no error bar (to minimize memory load);</li><li>The graph depicted a new hypothetical source of the data (freezing points of chemicals in a science class) that was amenable to both positive and negative numbers centered at zero.</li></ul><p>In all conditions the bar depicted a mean of zero, and y-axis are the same. Therefore, the 4 conditions are:</p><ul><li>falling bar, 5 (inside - not extreme)</li><li>falling bar, -5 (outside, extreme)</li><li>rising bar, 5 (outside, not extreme)</li><li>rising bar, -5 (inside, extreme)
I am not sure if -5 should be seen as the &ldquo;extreme&rdquo; value, compared to 5, or I am understanding incorrectly here.</li></ul><h3 id=result-1>Result<a hidden class=anchor aria-hidden=true href=#result-1>#</a></h3><p>In both rising bar and falling bar conditions, points within the bars were judeged significantly more likely to belong to the distribution.</p><h2 id=experiement-4-bar-stays-when-making-the-judgement>Experiement 4: bar stays when making the judgement<a hidden class=anchor aria-hidden=true href=#experiement-4-bar-stays-when-making-the-judgement>#</a></h2><p>They wonder if in the &ldquo;free viewing&rdquo; condition the effect is still there: they made the graph was still present when they asked participants for their judgements. The rest of the setup is the same as that of experiment 3.</p><p>The effect is still here.</p><h2 id=experiment-5>Experiment 5:<a hidden class=anchor aria-hidden=true href=#experiment-5>#</a></h2><p>They changed the between-subject design to <em>within-subject</em>. They counterbalanced the question order and maybe also the rising, falling order.
The rest stays the same as experiment 4.
<img loading=lazy src=e5within.png alt></p><h3 id=result-2>Result<a hidden class=anchor aria-hidden=true href=#result-2>#</a></h3><p>The effect is still significant: though 73% of the participants did rate the points as equally likely,
the other 27% of participants reliably favor with-in-bar points.</p><h2 id=experiment-6-effect-on-downstream-decisions>Experiment 6: effect on downstream decisions<a hidden class=anchor aria-hidden=true href=#experiment-6-effect-on-downstream-decisions>#</a></h2><h3 id=design-1>Design<a hidden class=anchor aria-hidden=true href=#design-1>#</a></h3><p>A between-subject design? with 3 groups:</p><ul><li>control group: no graph shown, were given the same scenario as the other 2 conditions and were asked for a decision using a sliding bar (if the new tires should increase BTS ot decrease the BTS).</li><li>rising bar group: the bar rises from -200 to 0 and stops at 0 to represent the mean.</li><li>falling bar group: the bar falls from 200 t0 0 and stops at 0 to represent the mean.</li></ul><h3 id=result-3>Result<a hidden class=anchor aria-hidden=true href=#result-3>#</a></h3><p>The presence of a rising bar led participants significantly increase BTS levels relative to control, while a falling bar caused participants to significantly decrease BTS levels relative to control.
A further comparison confirmed that the resulting BTS levels differed between the rising- and falling-bar graph conditions.</p><h3 id=discussion>Discussion<a hidden class=anchor aria-hidden=true href=#discussion>#</a></h3><p>This confirms that the influence of the within-the-bar bias is not limited to reasoning about bar graphs and statistical distributions per se, but can also influence decisions made about the content that the bar graphs depict.</p><h2 id=discussion-of-the-results>Discussion of the results<a hidden class=anchor aria-hidden=true href=#discussion-of-the-results>#</a></h2><p>Bar graphs of means will doubtless remain ubiquitous, but in some situations means might be better represented with points rather than asymmetric bars—or, where possible, with depictions of the <em>distributions themselves</em>.</p><p><strong><a href=https://static-content.springer.com/esm/art%3A10.3758%2Fs13423-012-0247-5/MediaObjects/13423_2012_247_MOESM1_ESM.pdf>The stimuli and instructions can be found at here.</a></strong></p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/apad/>APAD</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/posts/2023/11/perceptual-proxies-for-extracting-averages-in-data-visualizations/><span class=title>Next »</span><br><span>Perceptual proxies for extracting averages in data visualizations</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Allanware/allanware.github.io issue-term=pathname theme=preferred-color-scheme crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Wenxuan Zhao</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>